(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ddfad"],{8461:function(t,e,o){"use strict";o.r(e);o("a4d3"),o("e01a");var c=o("7a23"),a={class:"container mt-5"},d={class:"product row p-3"},n={class:"product-info col-12 col-md-6"},i={class:"text-decoration-line-through"},r=Object(c["createVNode"])("label",{for:"input-num",class:"me-2"},"人數",-1),s=Object(c["createVNode"])("button",{class:"btn topic-color w-100 mt-3"},"加入購物車",-1);function u(t,e,o,u,l,p){return Object(c["openBlock"])(),Object(c["createBlock"])("div",a,[Object(c["createVNode"])("div",d,[Object(c["createVNode"])("div",{class:"col-12 col-md-6 product-img",style:{backgroundImage:"url(".concat(l.product.imageUrl,")")}},null,4),Object(c["createVNode"])("div",n,[Object(c["createVNode"])("h2",null,Object(c["toDisplayString"])(l.product.title),1),Object(c["createVNode"])("h5",i,"原價"+Object(c["toDisplayString"])(l.product.origin_price),1),Object(c["createVNode"])("h5",null,"現在只要"+Object(c["toDisplayString"])(l.product.price),1),Object(c["createVNode"])("p",null,Object(c["toDisplayString"])(l.product.description),1),Object(c["createVNode"])("div",null,[r,Object(c["withDirectives"])(Object(c["createVNode"])("input",{type:"number",name:"num",id:"input-num",min:"1","onUpdate:modelValue":e[1]||(e[1]=function(t){return l.num=t})},null,512),[[c["vModelText"],l.num]])]),s])])])}o("99af");var l={data:function(){return{product:{},id:"",num:""}},computed:{getProductId:function(){return this.$store.state.productId}},methods:{getProduct:function(t){var e=this,o="".concat("https://vue-course-api.hexschool.io","/api/").concat("didameath","/product/").concat(t);this.$http.get(o).then((function(t){e.$store.commit("setProductId",t.data.product),e.product=t.data.product,console.log(t.data)}))},addToCart:function(t){var e=this,o=this,c="".concat("https://vue-course-api.hexschool.io","/api/").concat("didameath","/cart");o.status.loadingItem=t;var a={product_id:t,qty:o.num};this.$http.post(c,{data:a}).then((function(t){console.log(t.data),o.$store.commit("setMessage",[t.data.message,"success"]),o.status.loadingItem="",e.$store.dispatch("getCart"),o.productModal.hide()}))}},mounted:function(){var t=this;this.id=this.getProductId||sessionStorage.getItem("id"),this.getProduct(this.id),console.log(this.$store.state),window.addEventListener("beforeunload",(function(){sessionStorage.setItem("id",t.id)}))}};l.render=u;e["default"]=l}}]);
//# sourceMappingURL=chunk-2d0ddfad.b8c3b656.js.map