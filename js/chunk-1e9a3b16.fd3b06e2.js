(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e9a3b16"],{"4de4":function(t,e,c){"use strict";var o=c("23e7"),a=c("b727").filter,r=c("1dde"),i=r("filter");o({target:"Array",proto:!0,forced:!i},{filter:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},7079:function(t,e,c){"use strict";c.r(e);c("a4d3"),c("e01a");var o=c("7a23"),a={class:"container mx-auto row mt-5"},r={class:"col-3"},i={class:"sidebar list-group"},n=Object(o["createVNode"])("div",{class:"text-decoration-none text-align-center"},"全部種類",-1),s=Object(o["createVNode"])("div",{class:"text-decoration-none"},"潛水旅遊",-1),l=Object(o["createVNode"])("div",{class:"text-decoration-none"},"潛水考照",-1),d=Object(o["createVNode"])("div",{class:"text-decoration-none"},"體驗潛水",-1),u={class:"row col-9 mt-4"},p={class:"card-product card border-0 position-relative"},b=Object(o["createVNode"])("i",{class:"fas fa-heart"},null,-1),g={class:"card-body"},j={class:"badge badge-secondary float-right ml-2"},O={class:"card-title text-light"},m={class:"card-text "},f={class:"d-flex justify-content-between align-items-baseline"},h={key:0,class:"h5 text-light"},v={key:1,class:"h6 text-light"},N={key:2,class:"h5 text-light"},V={class:"card-footer d-flex"},k={key:0,class:"fas fa-spinner fa-spin"},y=Object(o["createTextVNode"])(" 查看更多 "),x={key:0,class:"fas fa-spinner fa-spin"},C=Object(o["createTextVNode"])(" 加到購物車 "),B={class:"modal fade",id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},S={class:"modal-dialog",role:"document"},L={class:"modal-content topic-bg text-light"},D={class:"modal-header"},M={class:"modal-title",id:"exampleModalLabel"},w=Object(o["createVNode"])("span",{"aria-hidden":"true"},"×",-1),T={class:"modal-body"},I={class:"blockquote mt-3"},$={class:"mb-0"},A={class:"text-right"},_={class:"d-flex justify-content-between align-items-baseline"},F={key:0,class:"h4"},J={key:1,class:"h6"},P={key:2,class:"h4"},U={class:"modal-footer"},q={class:"text-nowrap mr-3"},z=Object(o["createTextVNode"])(" 小計 "),E=Object(o["createTextVNode"])(" 元 "),G={key:0,class:"fas fa-spinner fa-spin"},H=Object(o["createTextVNode"])(" 加到購物車 ");function K(t,e,c,K,Q,R){var W=Object(o["resolveComponent"])("loading");return Object(o["openBlock"])(),Object(o["createBlock"])("div",a,[Object(o["createVNode"])(W,{active:Q.isLoading,"onUpdate:active":e[1]||(e[1]=function(t){return Q.isLoading=t})},null,8,["active"]),Object(o["createVNode"])("div",r,[Object(o["createVNode"])("ul",i,[Object(o["createVNode"])("li",{class:"list list-group-item text-center",onClick:e[2]||(e[2]=function(){return R.getAll&&R.getAll.apply(R,arguments)})},[n]),Object(o["createVNode"])("li",{class:"list list-group-item text-center",onClick:e[3]||(e[3]=function(){return R.getTravel&&R.getTravel.apply(R,arguments)})},[s]),Object(o["createVNode"])("li",{class:"list list-group-item text-center",onClick:e[4]||(e[4]=function(){return R.getTest&&R.getTest.apply(R,arguments)})},[l]),Object(o["createVNode"])("li",{class:"list list-group-item text-center",onClick:e[5]||(e[5]=function(){return R.getNovice&&R.getNovice.apply(R,arguments)})},[d])])]),Object(o["createVNode"])("div",u,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(Q.filterList,(function(t){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:"col-lg-4 col-md-6 col-12 mb-4",key:t.id},[Object(o["createVNode"])("div",p,[Object(o["createVNode"])("span",{class:"favor-icon position-absolute",onClick:function(e){return R.addFavorite(t.id)}},[b],8,["onClick"]),Object(o["createVNode"])("div",{style:[{height:"150px","background-size":"cover","background-position":"center"},{backgroundImage:"url(".concat(t.imageUrl,")")}]},null,4),Object(o["createVNode"])("div",g,[Object(o["createVNode"])("span",j,Object(o["toDisplayString"])(t.category),1),Object(o["createVNode"])("h5",O,Object(o["toDisplayString"])(t.title),1),Object(o["createVNode"])("p",m,Object(o["toDisplayString"])(t.content),1),Object(o["createVNode"])("div",f,[t.price?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])("div",h,Object(o["toDisplayString"])(t.origin_price)+" 元",1)),t.price?(Object(o["openBlock"])(),Object(o["createBlock"])("del",v,"原價 "+Object(o["toDisplayString"])(t.origin_price)+" 元",1)):Object(o["createCommentVNode"])("",!0),t.price?(Object(o["openBlock"])(),Object(o["createBlock"])("div",N,"現在只要 "+Object(o["toDisplayString"])(t.price)+" 元",1)):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])("div",V,[Object(o["createVNode"])("button",{type:"button",class:"btn btn-outline-light btn-sm",onClick:function(e){return R.getProduct(t.id)}},[Q.status.loadingItem===t.id?(Object(o["openBlock"])(),Object(o["createBlock"])("i",k)):Object(o["createCommentVNode"])("",!0),y],8,["onClick"]),Object(o["createVNode"])("button",{type:"button",class:"btn btn-outline-warning btn-sm ml-auto",onClick:function(e){return R.addToCart(t.id)}},[Q.status.loadingItem===t.id?(Object(o["openBlock"])(),Object(o["createBlock"])("i",x)):Object(o["createCommentVNode"])("",!0),C],8,["onClick"])])])])})),128)),Object(o["createVNode"])("div",B,[Object(o["createVNode"])("div",S,[Object(o["createVNode"])("div",L,[Object(o["createVNode"])("div",D,[Object(o["createVNode"])("h5",M,Object(o["toDisplayString"])(Q.product.title),1),Object(o["createVNode"])("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:e[6]||(e[6]=function(){return R.closeModal&&R.closeModal.apply(R,arguments)})},[w])]),Object(o["createVNode"])("div",T,[Object(o["createVNode"])("img",{src:Q.product.imageUrl,class:"img-fluid",alt:""},null,8,["src"]),Object(o["createVNode"])("blockquote",I,[Object(o["createVNode"])("p",$,Object(o["toDisplayString"])(Q.product.content),1),Object(o["createVNode"])("footer",A,Object(o["toDisplayString"])(Q.product.description),1)]),Object(o["createVNode"])("div",_,[Q.product.price?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])("div",F,Object(o["toDisplayString"])(Q.product.origin_price)+" 元",1)),Q.product.price?(Object(o["openBlock"])(),Object(o["createBlock"])("del",J,"原價 "+Object(o["toDisplayString"])(Q.product.origin_price)+" 元",1)):Object(o["createCommentVNode"])("",!0),Q.product.price?(Object(o["openBlock"])(),Object(o["createBlock"])("div",P,"現在只要 "+Object(o["toDisplayString"])(Q.product.price)+" 元",1)):Object(o["createCommentVNode"])("",!0)]),Object(o["withDirectives"])(Object(o["createVNode"])("select",{name:"",class:"form-control mt-3","onUpdate:modelValue":e[7]||(e[7]=function(t){return Q.product.num=t})},[(Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(10,(function(t){return Object(o["createVNode"])("option",{value:t,key:t}," 報名 "+Object(o["toDisplayString"])(t)+" "+Object(o["toDisplayString"])(Q.product.unit),9,["value"])})),64))],512),[[o["vModelSelect"],Q.product.num]])]),Object(o["createVNode"])("div",U,[Object(o["createVNode"])("div",q,[z,Object(o["createVNode"])("strong",null,Object(o["toDisplayString"])(Q.product.num*Q.product.price),1),E]),Object(o["createVNode"])("button",{type:"button",class:"btn topic-color",onClick:e[8]||(e[8]=function(t){return R.addToCart(Q.product.id,Q.product.num)})},[Q.status.loadingItem===Q.product.id?(Object(o["openBlock"])(),Object(o["createBlock"])("i",G)):Object(o["createCommentVNode"])("",!0),H])])])])])])])}c("99af"),c("4de4"),c("7db0");var Q=c("7b17"),R={data:function(){return{products:[],filterList:[],product:{},isLoading:!1,productModal:"",status:{loadingItem:""}}},methods:{getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("didameath","/products?page=").concat(t),c=this;c.isLoading=!0,this.$http.get(e).then((function(t){console.log(t.data),c.products=t.data.products,c.filterList=t.data.products,c.isLoading=!1}))},getProduct:function(t){var e=this,c="".concat("https://vue-course-api.hexschool.io","/api/").concat("didameath","/product/").concat(t);e.status.loadingItem=t,this.$http.get(c).then((function(t){e.product=t.data.product,console.log(t.data),e.status.loadingItem="",e.productModal=new Q["a"](document.getElementById("productModal")),e.productModal.show()}))},addToCart:function(t){var e=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("didameath","/cart");o.status.loadingItem=t;var r={product_id:t,qty:c};this.$http.post(a,{data:r}).then((function(t){console.log(t.data),o.$store.commit("setMessage",[t.data.message,"success"]),o.status.loadingItem="",e.$store.dispatch("getCart"),o.productModal.hide()}))},getTravel:function(){var t=this,e=t.products.filter((function(t){return"travel"===t.category}));console.log(e),t.filterList=e},getNovice:function(){var t=this,e=t.products.filter((function(t){return"novice"===t.category}));console.log(e),t.filterList=e},getTest:function(){var t=this,e=t.products.filter((function(t){return"license-test"===t.category}));console.log(e),t.filterList=e},getAll:function(){var t=this;t.filterList=t.products},closeModal:function(){this.productModal.hide()},addFavorite:function(t){var e=this,c=JSON.parse(localStorage.getItem("favoriteList"))||[],o=e.products.find((function(e){return e.id===t}));c.some((function(e){return e.id===t}))?e.$store.commit("setMessage",["此行程已在喜愛的旅程中^^","danger"]):(e.$store.commit("setMessage",["您已設定喜愛的旅程","success"]),c.push(o),localStorage.setItem("favoriteList",JSON.stringify(c)))}},created:function(){this.getProducts(),this.$store.dispatch("getCart")}};R.render=K;e["default"]=R},"7db0":function(t,e,c){"use strict";var o=c("23e7"),a=c("b727").find,r=c("44d2"),i="find",n=!0;i in[]&&Array(1)[i]((function(){n=!1})),o({target:"Array",proto:!0,forced:n},{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),r(i)}}]);
//# sourceMappingURL=chunk-1e9a3b16.fd3b06e2.js.map