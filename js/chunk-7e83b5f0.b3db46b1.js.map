{"version":3,"sources":["webpack:///./src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?f819","webpack:///./src/components/staff/StaffProducts.vue","webpack:///./src/components/staff/StaffProducts.vue?38ff"],"names":["aria-label","class","aria-hidden","href","pagination","has_pre","emitGetItems","current_page","total_pages","page","key","has_next","props","methods","this","$emit","render","width","id","tabindex","role","aria-labelledby","type","data-bs-dismiss","for","data-dismiss","active","isLoading","openModal","products","item","category","title","origin_price","price","is_enabled","deleteModal","tempProduct","imageUrl","placeholder","status","fileUploading","ref","uploadFile","img","src","alt","unit","description","content","true-value","false-value","updateProduct","deleteProduct","getProducts","components","Pagination","data","productModal","delModal","delId","isNew","api","vm","$http","get","then","response","show","Object","assign","httpMethod","console","log","success","hide","mod","delete","uploadedFile","$refs","files","formData","FormData","append","url","post","headers","created","mounted","document","getElementById"],"mappings":"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","file":"js/chunk-7e83b5f0.b3db46b1.js","sourcesContent":["<template>\r\n  <div>\r\n    <!-- pagination -->\r\n    <nav aria-label=\"Page navigation example\">\r\n      <ul class=\"pagination\">\r\n        <li class=\"page-item\" :class=\"{'disable': !pagination.has_pre }\">\r\n          <a class=\"page-link\" href=\"#\" aria-label=\"Previous\" @click.prevent=\"emitGetItems(pagination.current_page\r\n          -1)\">\r\n            <span aria-hidden=\"true\">&laquo;</span>\r\n          </a>\r\n        </li>\r\n        <li class=\"page-item\" v-for=\"page in pagination.total_pages\" :key=\"page\" :class=\"{'active': pagination.current_page === page}\">\r\n          <a class=\"page-link\" href=\"#\" @click.prevent=\"emitGetItems(page)\">{{page}}</a>\r\n        </li>\r\n        <li class=\"page-item\" :class=\"{'disable': !pagination.has_next }\" @click.prevent=\"emitGetItems(pagination.current_page\r\n          +1)\">\r\n          <a class=\"page-link\" href=\"#\" aria-label=\"Next\">\r\n            <span aria-hidden=\"true\">&raquo;</span>\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['pagination'],\r\n  methods: {\r\n    emitGetItems (page) {\r\n      this.$emit('getPage', page)\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./Pagination.vue?vue&type=template&id=c7ec2b7a\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n  <div>\r\n    <loading v-model:active=\"isLoading\"/>\r\n    <div class=\"text-right mt-4\">\r\n      <button class=\"btn btn-primary\" @click=\"openModal(true)\">建立新產品</button>\r\n    </div>\r\n    <table class=\"table mt-4\">\r\n      <thead>\r\n        <tr>\r\n          <th width=\"120\">分類</th>\r\n          <th>產品名稱</th>\r\n          <th width=\"120\">原價</th>\r\n          <th width=\"120\">售價</th>\r\n          <th width=\"100\">是否啟用</th>\r\n          <th width=\"80\">編輯</th>\r\n          <th width=\"80\">刪除</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"(item) in products\" :key=\"item.id\">\r\n          <td>{{item.category}}</td>\r\n          <td>{{item.title}}</td>\r\n          <td class=\"text-right\">\r\n            {{item.origin_price}}\r\n          </td>\r\n          <td class=\"text-right\">\r\n            {{item.price}}\r\n          </td>\r\n          <td>\r\n            <span v-if=\"item.is_enabled\" class=\"text-success\">啟用</span>\r\n            <span v-else>未啟用</span>\r\n          </td>\r\n          <td>\r\n            <button class=\"btn btn-outline-primary btn-sm\" @click=\"openModal(false, item)\">編輯</button>\r\n          </td>\r\n          <td>\r\n            <button class=\"btn btn-outline-danger btn-sm\" @click=\"deleteModal(true, item)\">刪除</button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <!-- Productmodal -->\r\n    <div class=\"modal fade\" id=\"productModal\" tabindex=\"-1\" role=\"dialog\"\r\n      aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog modal-lg\" role=\"document\">\r\n        <div class=\"modal-content border-0\">\r\n          <div class=\"modal-header bg-dark text-white\">\r\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n              <span>新增產品</span>\r\n            </h5>\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-sm-4\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"image\">輸入圖片網址</label>\r\n                  <input type=\"text\" class=\"form-control\" id=\"image\"\r\n                    v-model=\"tempProduct.imageUrl\"\r\n                    placeholder=\"請輸入圖片連結\">\r\n                </div>\r\n                <div class=\"form-group\">\r\n                  <label for=\"customFile\">或 上傳圖片\r\n                    <i class=\"fas fa-spinner fa-spin\" v-if=\"status.fileUploading\"></i>\r\n                  </label>\r\n                  <input type=\"file\" id=\"customFile\" class=\"form-control\"\r\n                    ref=\"files\" @change=\"uploadFile\">\r\n                </div>\r\n                <img img=\"https://images.unsplash.com/photo-1483985988355-763728e1935b?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=828346ed697837ce808cae68d3ddc3cf&auto=format&fit=crop&w=1350&q=80\"\r\n                  class=\"img-fluid\" :src=\"tempProduct.imageUrl\" alt=\"\">\r\n              </div>\r\n              <div class=\"col-sm-8\">\r\n                <div class=\"form-group\">\r\n                  <label for=\"title\">標題</label>\r\n                  <input type=\"text\" class=\"form-control\" id=\"title\"\r\n                    v-model=\"tempProduct.title\"\r\n                    placeholder=\"請輸入標題\">\r\n                </div>\r\n\r\n                <div class=\"form-row\">\r\n                  <div class=\"form-group col-md-6\">\r\n                    <label for=\"category\">分類</label>\r\n                    <input type=\"text\" class=\"form-control\" id=\"category\"\r\n                      v-model=\"tempProduct.category\"\r\n                      placeholder=\"請輸入分類\">\r\n                  </div>\r\n                  <div class=\"form-group col-md-6\">\r\n                    <label for=\"price\">單位</label>\r\n                    <input type=\"unit\" class=\"form-control\" id=\"unit\"\r\n                      v-model=\"tempProduct.unit\"\r\n                      placeholder=\"請輸入單位\">\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"form-row\">\r\n                  <div class=\"form-group col-md-6\">\r\n                  <label for=\"origin_price\">原價</label>\r\n                    <input type=\"number\" class=\"form-control\" id=\"origin_price\"\r\n                      v-model=\"tempProduct.origin_price\"\r\n                      placeholder=\"請輸入原價\">\r\n                  </div>\r\n                  <div class=\"form-group col-md-6\">\r\n                    <label for=\"price\">售價</label>\r\n                    <input type=\"number\" class=\"form-control\" id=\"price\"\r\n                      v-model=\"tempProduct.price\"\r\n                      placeholder=\"請輸入售價\">\r\n                  </div>\r\n                </div>\r\n                <hr>\r\n\r\n                <div class=\"form-group\">\r\n                  <label for=\"description\">產品描述</label>\r\n                  <textarea type=\"text\" class=\"form-control\" id=\"description\"\r\n                    v-model=\"tempProduct.description\"\r\n                    placeholder=\"請輸入產品描述\"></textarea>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                  <label for=\"content\">說明內容</label>\r\n                  <textarea type=\"text\" class=\"form-control\" id=\"content\"\r\n                    v-model=\"tempProduct.content\"\r\n                    placeholder=\"請輸入產品說明內容\"></textarea>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                  <div class=\"form-check\">\r\n                    <input class=\"form-check-input\" type=\"checkbox\"\r\n                      v-model=\"tempProduct.is_enabled\"\r\n                      :true-value=\"1\"\r\n                      :false-value=\"0\"\r\n                      id=\"is_enabled\">\r\n                    <label class=\"form-check-label\" for=\"is_enabled\">\r\n                      是否啟用\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-outline-secondary\" data-dismiss=\"modal\">取消</button>\r\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"updateProduct\">確認</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- deleteModal -->\r\n    <div class=\"modal fade\" id=\"delProductModal\" tabindex=\"-1\" role=\"dialog\"\r\n      aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog\" role=\"document\">\r\n        <div class=\"modal-content border-0\">\r\n          <div class=\"modal-header bg-danger text-white\">\r\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n              <span>刪除產品</span>\r\n            </h5>\r\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            是否刪除 <strong class=\"text-danger\">{{ tempProduct.title }}</strong> 商品(刪除後將無法恢復)。\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-outline-secondary\" data-dismiss=\"modal\" @click=\"deleteModal(false)\">取消</button>\r\n            <button type=\"button\" class=\"btn btn-danger\"\r\n              @click=\"deleteProduct()\">確認刪除</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <Pagination :pagination=\"pagination\" @getPage=\"getProducts\"></Pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Modal } from 'bootstrap'\r\nimport Pagination from '@/components/Pagination.vue'\r\nexport default {\r\n  components: {\r\n    Pagination\r\n  },\r\n  data () {\r\n    return {\r\n      products: [],\r\n      isLoading: false,\r\n      productModal: '',\r\n      delModal: '',\r\n      tempProduct: {},\r\n      pagination: {},\r\n      delId: '',\r\n      isNew: false,\r\n      status: {\r\n        fileUploading: false\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getProducts (page = 1) {\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/products?page=${page}`\r\n      const vm = this\r\n      vm.isLoading = true\r\n      this.$http.get(api).then((response) => {\r\n        vm.products = response.data.products\r\n        vm.isLoading = false\r\n        vm.pagination = response.data.pagination\r\n      })\r\n    },\r\n    openModal (isNew, item) {\r\n      this.productModal.show()\r\n      if (isNew) {\r\n        this.tempProduct = {}\r\n        this.isNew = true\r\n      } else {\r\n        this.tempProduct = Object.assign({}, item)\r\n        this.isNew = false\r\n      }\r\n    },\r\n    updateProduct () {\r\n      let api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/admin/product`\r\n      let httpMethod = 'post'\r\n      const vm = this\r\n      if (!vm.isNew) {\r\n        api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/admin/product/${vm.tempProduct.id}`\r\n        httpMethod = 'put'\r\n      }\r\n      this.$http[httpMethod](api, { data: vm.tempProduct }).then((response) => {\r\n        console.log(response.data)\r\n        if (response.data.success) {\r\n          vm.productModal.hide()\r\n          vm.getProducts()\r\n        } else {\r\n          vm.productModal.hide()\r\n          vm.getProducts()\r\n          console.log('新增失敗')\r\n        }\r\n      })\r\n    },\r\n    deleteModal (mod, item) {\r\n      if (mod) {\r\n        this.delModal.show()\r\n        this.delId = item.id\r\n      } else {\r\n        this.delModal.hide()\r\n      }\r\n    },\r\n    deleteProduct () {\r\n      const vm = this\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/admin/product/${vm.delId}`\r\n      this.$http.delete(api).then((response) => {\r\n        console.log(response.data)\r\n        this.delModal.hide()\r\n        vm.getProducts()\r\n      })\r\n    },\r\n    uploadFile () {\r\n      console.log(this)\r\n      const uploadedFile = this.$refs.files.files[0]\r\n      const vm = this\r\n      const formData = new FormData()\r\n      formData.append('file-to-upload', uploadedFile)\r\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/admin/upload`\r\n      vm.status.fileUploading = true\r\n      this.$http.post(url, formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      }).then((response) => {\r\n        console.log(response.data)\r\n        if (response.data.success) {\r\n          vm.status.fileUploading = false\r\n          vm.tempProduct.imageUrl = response.data.imageUrl\r\n        } else {\r\n          console.log('error')\r\n          vm.status.fileUploading = false\r\n        }\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    this.getProducts()\r\n  },\r\n  mounted () {\r\n    this.delModal = new Modal(document.getElementById('delProductModal'))\r\n    this.productModal = new Modal(document.getElementById('productModal'))\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./StaffProducts.vue?vue&type=template&id=0b4c3196\"\nimport script from \"./StaffProducts.vue?vue&type=script&lang=js\"\nexport * from \"./StaffProducts.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}