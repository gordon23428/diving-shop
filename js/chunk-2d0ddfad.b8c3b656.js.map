{"version":3,"sources":["webpack:///./src/components/ProductInfo.vue","webpack:///./src/components/ProductInfo.vue?eeeb"],"names":["class","for","style","product","imageUrl","title","origin_price","price","description","type","name","id","min","num","data","computed","getProductId","this","$store","state","productId","methods","getProduct","vm","url","$http","get","then","response","commit","console","log","addToCart","status","loadingItem","cart","product_id","qty","post","message","dispatch","productModal","hide","mounted","sessionStorage","getItem","window","addEventListener","setItem","render"],"mappings":"8JACOA,MAAM,kB,GACJA,MAAM,mB,GAEJA,MAAM,gC,GAELA,MAAM,gC,EAIR,yBAA8C,SAAvCC,IAAI,YAAYD,MAAM,QAAO,MAAE,G,EAGxC,yBAAyD,UAAjDA,MAAM,8BAA6B,SAAK,G,wDAZtD,yBAeM,MAfN,EAeM,CAdJ,yBAaM,MAbN,EAaM,CAZJ,yBAAsG,OAAjGA,MAAM,8BAA+BE,MAAK,+BAA2B,EAAAC,QAAQC,SAAnC,O,QAC/C,yBAUM,MAVN,EAUM,CATJ,yBAA0B,uCAApB,EAAAD,QAAQE,OAAK,GACnB,yBAAwE,KAAxE,EAAyC,KAAE,6BAAE,EAAAF,QAAQG,cAAY,GACjE,yBAA8B,UAA1B,OAAI,6BAAE,EAAAH,QAAQI,OAAK,GACvB,yBAA8B,sCAAzB,EAAAJ,QAAQK,aAAW,GACxB,yBAGM,YAFJ,E,4BACA,yBAAqE,SAA9DC,KAAK,SAASC,KAAK,MAAMC,GAAG,YAAYC,IAAI,I,qDAAa,EAAAC,IAAG,K,4BAAH,EAAAA,SAElE,Q,cAOO,GACbC,KADa,WAEX,MAAO,CACLX,QAAS,GACTQ,GAAI,GACJE,IAAK,KAGTE,SAAU,CACRC,aADQ,WAEN,OAAOC,KAAKC,OAAOC,MAAMC,YAG7BC,QAAS,CACPC,WADO,SACKX,GACV,IAAMY,EAAKN,KACLO,EAAE,UAAO,sCAAP,gBAA0C,YAA1C,oBAAoFb,GAC5FM,KAAKQ,MAAMC,IAAIF,GAAKG,MAAK,SAACC,GACxBL,EAAGL,OAAOW,OAAO,eAAgBD,EAASd,KAAKX,SAC/CoB,EAAGpB,QAAUyB,EAASd,KAAKX,QAC3B2B,QAAQC,IAAIH,EAASd,UAGzBkB,UAVO,SAUIrB,GAAI,WACPY,EAAKN,KACLO,EAAE,UAAO,sCAAP,gBAA0C,YAA1C,SACRD,EAAGU,OAAOC,YAAcvB,EACxB,IAAMwB,EAAO,CACXC,WAAYzB,EACZ0B,IAAKd,EAAGV,KAEVI,KAAKQ,MAAMa,KAAKd,EAAK,CAAEV,KAAMqB,IAAQR,MAAK,SAACC,GACzCE,QAAQC,IAAIH,EAASd,MACrBS,EAAGL,OAAOW,OAAO,aAAc,CAC7BD,EAASd,KAAKyB,QACd,YAEFhB,EAAGU,OAAOC,YAAc,GACxB,EAAKhB,OAAOsB,SAAS,WACrBjB,EAAGkB,aAAaC,YAItBC,QA3Ca,WA2CF,WACT1B,KAAKN,GAAKM,KAAKD,cAAgB4B,eAAeC,QAAQ,MACtD5B,KAAKK,WAAWL,KAAKN,IACrBmB,QAAQC,IAAId,KAAKC,OAAOC,OACxB2B,OAAOC,iBAAiB,gBAAgB,WACtCH,eAAeI,QAAQ,KAAM,EAAKrC,SCjExC,EAAOsC,OAASA,EAED","file":"js/chunk-2d0ddfad.b8c3b656.js","sourcesContent":["<template>\r\n  <div class=\"container mt-5\">\r\n    <div class=\"product row p-3\">\r\n      <div class=\"col-12 col-md-6 product-img\" :style=\"{backgroundImage: `url(${product.imageUrl})`}\"></div>\r\n      <div class=\"product-info col-12 col-md-6\">\r\n        <h2>{{product.title}}</h2>\r\n        <h5 class=\"text-decoration-line-through\">原價{{product.origin_price}}</h5>\r\n        <h5>現在只要{{product.price}}</h5>\r\n        <p>{{product.description}}</p>\r\n        <div>\r\n          <label for=\"input-num\" class=\"me-2\">人數</label>\r\n          <input type=\"number\" name=\"num\" id=\"input-num\" min=\"1\" v-model=\"num\">\r\n        </div>\r\n        <button class=\"btn topic-color w-100 mt-3\">加入購物車</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      product: {},\r\n      id: '',\r\n      num: ''\r\n    }\r\n  },\r\n  computed: {\r\n    getProductId () {\r\n      return this.$store.state.productId\r\n    }\r\n  },\r\n  methods: {\r\n    getProduct (id) {\r\n      const vm = this\r\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/product/${id}`\r\n      this.$http.get(url).then((response) => {\r\n        vm.$store.commit('setProductId', response.data.product)\r\n        vm.product = response.data.product\r\n        console.log(response.data)\r\n      })\r\n    },\r\n    addToCart (id) {\r\n      const vm = this\r\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart`\r\n      vm.status.loadingItem = id\r\n      const cart = {\r\n        product_id: id,\r\n        qty: vm.num\r\n      }\r\n      this.$http.post(url, { data: cart }).then((response) => {\r\n        console.log(response.data)\r\n        vm.$store.commit('setMessage', [\r\n          response.data.message,\r\n          'success'\r\n        ])\r\n        vm.status.loadingItem = ''\r\n        this.$store.dispatch('getCart')\r\n        vm.productModal.hide()\r\n      })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.id = this.getProductId || sessionStorage.getItem('id')\r\n    this.getProduct(this.id)\r\n    console.log(this.$store.state)\r\n    window.addEventListener('beforeunload', () => {\r\n      sessionStorage.setItem('id', this.id)\r\n    })\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./ProductInfo.vue?vue&type=template&id=6dd14e26\"\nimport script from \"./ProductInfo.vue?vue&type=script&lang=js\"\nexport * from \"./ProductInfo.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}