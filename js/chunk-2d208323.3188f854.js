(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d208323"],{a482:function(e,t,c){"use strict";c.r(t);c("b0c0");var o=c("7a23"),a={class:"my-5 row justify-content-center"},r={class:"table"},d=Object(o["createVNode"])("thead",null,[Object(o["createVNode"])("th",null,"項目"),Object(o["createVNode"])("th",null,"人數"),Object(o["createVNode"])("th",null,"單價")],-1),l={class:"align-middle"},n={class:"align-middle"},s={class:"align-middle text-right"},i=Object(o["createVNode"])("td",{colspan:"2",class:"text-right"},"總計",-1),b={class:"text-right"},u={class:"table"},O=Object(o["createVNode"])("th",{width:"100"},"Email",-1),j=Object(o["createVNode"])("th",null,"姓名",-1),p=Object(o["createVNode"])("th",null,"收件人電話",-1),h=Object(o["createVNode"])("th",null,"收件人地址",-1),N=Object(o["createVNode"])("th",null,"付款狀態",-1),V={key:0},m={key:1,class:"text-success"},g={key:0,class:"text-right"},y=Object(o["createVNode"])("button",{class:"btn btn-danger","data-bs-toggle":"modal","data-bs-target":"#confirmModal"},"確認付款去",-1),f={class:"modal fade",id:"confirmModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},k={class:"modal-dialog"},v={class:"modal-content"},B=Object(o["createVNode"])("div",{class:"modal-header"},[Object(o["createVNode"])("h5",{class:"modal-title",id:"exampleModalLabel"},"確認付款"),Object(o["createVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),x=Object(o["createVNode"])("div",{class:"modal-body"}," 請確認認定單內容後再按下確認 ",-1),w={class:"modal-footer"},D=Object(o["createVNode"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"取消",-1);function M(e,t,c,M,S,I){return Object(o["openBlock"])(),Object(o["createBlock"])("div",null,[Object(o["createVNode"])("div",a,[Object(o["createVNode"])("table",r,[d,Object(o["createVNode"])("tbody",null,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(S.order.products,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])("tr",{key:e.id},[Object(o["createVNode"])("td",l,Object(o["toDisplayString"])(e.product.title),1),Object(o["createVNode"])("td",n,Object(o["toDisplayString"])(e.qty)+"/"+Object(o["toDisplayString"])(e.product.unit),1),Object(o["createVNode"])("td",s,Object(o["toDisplayString"])(e.final_total),1)])})),128))]),Object(o["createVNode"])("tfoot",null,[Object(o["createVNode"])("tr",null,[i,Object(o["createVNode"])("td",b,Object(o["toDisplayString"])(S.order.total),1)])])]),Object(o["createVNode"])("table",u,[Object(o["createVNode"])("tbody",null,[Object(o["createVNode"])("tr",null,[O,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(S.order.user.email),1)]),Object(o["createVNode"])("tr",null,[j,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(S.order.user.name),1)]),Object(o["createVNode"])("tr",null,[p,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(S.order.user.tel),1)]),Object(o["createVNode"])("tr",null,[h,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(S.order.user.address),1)]),Object(o["createVNode"])("tr",null,[N,Object(o["createVNode"])("td",null,[S.order.is_paid?(Object(o["openBlock"])(),Object(o["createBlock"])("span",m,"付款完成")):(Object(o["openBlock"])(),Object(o["createBlock"])("span",V,"尚未付款"))])])])]),!1===S.order.is_paid?(Object(o["openBlock"])(),Object(o["createBlock"])("div",g,[y])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])("div",f,[Object(o["createVNode"])("div",k,[Object(o["createVNode"])("div",v,[B,x,Object(o["createVNode"])("div",w,[Object(o["createVNode"])("button",{type:"button",class:"btn btn-primary",onClick:t[1]||(t[1]=function(){return I.payOrder&&I.payOrder.apply(I,arguments)})},"確認"),D])])])])])}c("99af");var S=c("7b17"),I={data:function(){return{orderId:"",order:{user:{}},coupon_code:"",confirmModal:""}},methods:{getOrder:function(){var e=this,t="".concat("https://vue-course-api.hexschool.io","/api/").concat("didameath","/order/").concat(e.orderId);e.isLoading=!0,this.$http.get(t).then((function(t){e.order=t.data.order,console.log(e.order),e.isLoading=!1}))},payOrder:function(){var e=this,t=this,c="".concat("https://vue-course-api.hexschool.io","/api/").concat("didameath","/pay/").concat(t.orderId);t.isLoading=!0,this.$http.post(c).then((function(c){c.data.success&&(e.$store.commit("setMod",3),t.$router.push("/checkout/finish/".concat(t.orderId))),t.confirmModal.hide(),t.isLoading=!1}))}},created:function(){this.orderId=this.$route.params.orderId,this.getOrder()},mounted:function(){this.confirmModal=new S["a"](document.getElementById("confirmModal"))}};I.render=M;t["default"]=I}}]);
//# sourceMappingURL=chunk-2d208323.3188f854.js.map