{"version":3,"sources":["webpack:///./src/components/order-page/CustomCheckout.vue","webpack:///./src/components/order-page/CustomCheckout.vue?b62f","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["class","colspan","width","payOrder","order","products","item","key","id","product","title","qty","unit","final_total","total","user","email","name","tel","address","is_paid","data","orderId","coupon_code","methods","getOrder","vm","this","url","isLoading","$http","get","then","response","console","log","post","success","$store","commit","$router","push","created","$route","params","render","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","call","match","error"],"mappings":"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","file":"js/chunk-5a49ff52.0f4cfc6b.js","sourcesContent":["<template>\r\n  <div class=\"my-5 row justify-content-center\">\r\n    <form @submit.prevent=\"payOrder\">\r\n      <table class=\"table\">\r\n        <thead>\r\n          <th>項目</th>\r\n          <th>人數</th>\r\n          <th>單價</th>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"item in order.products\" :key=\"item.id\">\r\n            <td class=\"align-middle\">{{ item.product.title }}</td>\r\n            <td class=\"align-middle\">{{ item.qty }}/{{ item.product.unit }}</td>\r\n            <td class=\"align-middle text-right\">{{ item.final_total }}</td>\r\n          </tr>\r\n        </tbody>\r\n        <tfoot>\r\n          <tr>\r\n            <td colspan=\"2\" class=\"text-right\">總計</td>\r\n            <td class=\"text-right\">{{ order.total }}</td>\r\n          </tr>\r\n        </tfoot>\r\n      </table>\r\n      <table class=\"table\">\r\n        <tbody>\r\n          <tr>\r\n            <th width=\"100\">Email</th>\r\n            <td>{{ order.user.email }}</td>\r\n          </tr>\r\n          <tr>\r\n            <th>姓名</th>\r\n            <td>{{ order.user.name }}</td>\r\n          </tr>\r\n          <tr>\r\n            <th>收件人電話</th>\r\n            <td>{{ order.user.tel }}</td>\r\n          </tr>\r\n          <tr>\r\n            <th>收件人地址</th>\r\n            <td>{{ order.user.address }}</td>\r\n          </tr>\r\n          <tr>\r\n            <th>付款狀態</th>\r\n            <td>\r\n              <span v-if=\"!order.is_paid\">尚未付款</span>\r\n              <span v-else class=\"text-success\">付款完成</span>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <div class=\"text-right\" v-if=\"order.is_paid === false\">\r\n        <button class=\"btn btn-danger\">確認付款去</button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      orderId: '',\r\n      order: {\r\n        user: { }\r\n      },\r\n      coupon_code: ''\r\n    }\r\n  },\r\n  methods: {\r\n    getOrder () {\r\n      const vm = this\r\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/order/${vm.orderId}`\r\n      vm.isLoading = true\r\n      this.$http.get(url).then((response) => {\r\n        vm.order = response.data.order\r\n        console.log(vm.order)\r\n        vm.isLoading = false\r\n      })\r\n    },\r\n    payOrder () {\r\n      const vm = this\r\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/pay/${vm.orderId}`\r\n      vm.isLoading = true\r\n      this.$http.post(url).then((response) => {\r\n        if (response.data.success) {\r\n          this.$store.commit('setMod', 3)\r\n          vm.$router.push(`/checkout/finish/${vm.orderId}`)\r\n        }\r\n        console.log(response)\r\n        vm.isLoading = false\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    this.orderId = this.$route.params.orderId\r\n    this.getOrder()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./CustomCheckout.vue?vue&type=template&id=63e9c944\"\nimport script from \"./CustomCheckout.vue?vue&type=script&lang=js\"\nexport * from \"./CustomCheckout.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}