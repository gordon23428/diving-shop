(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e0ddd46"],{a09f:function(e,t,c){"use strict";c.r(t);c("a4d3"),c("e01a");var o=c("7a23"),a=Object(o["createVNode"])("div",{class:"web-background position-fixed top-0"},[Object(o["createVNode"])("div",{class:"web-img"})],-1),r={class:" container row col-9 mt-4"},d={class:"card-product card border-0 position-relative"},i=Object(o["createVNode"])("i",{class:"fas fa-heart"},null,-1),n={class:"card-body"},l={class:"badge badge-secondary float-right ml-2"},s={class:"card-title text-light"},b={class:"card-text "},u={class:"d-flex justify-content-between align-items-baseline"},p={key:0,class:"h5 text-light"},j={key:1,class:"h6 text-light"},O={key:2,class:"h5 text-light"},m={class:"card-footer d-flex"},g={key:0,class:"fas fa-spinner fa-spin"},f=Object(o["createTextVNode"])(" 查看更多 "),v={key:0,class:"fas fa-spinner fa-spin"},N=Object(o["createTextVNode"])(" 加到購物車 "),V={class:"modal fade",id:"confirmModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},k={class:"modal-dialog"},h={class:"modal-content"},y=Object(o["createVNode"])("div",{class:"modal-header"},[Object(o["createVNode"])("h5",{class:"modal-title",id:"exampleModalLabel"},"移除"),Object(o["createVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),x=Object(o["createVNode"])("div",{class:"modal-body"}," 確定要移除喜愛的旅程嗎? ",-1),B={class:"modal-footer"},C=Object(o["createVNode"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"取消",-1),I={class:"modal fade",id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},S={class:"modal-dialog",role:"document"},w={class:"modal-content"},D={class:"modal-header"},M={class:"modal-title",id:"exampleModalLabel"},L=Object(o["createVNode"])("span",{"aria-hidden":"true"},"×",-1),P={class:"modal-body"},T={class:"blockquote mt-3"},F={class:"mb-0"},_={class:"blockquote-footer text-right"},q={class:"d-flex justify-content-between align-items-baseline"},A={key:0,class:"h4"},J={key:1,class:"h6"},$={key:2,class:"h4"},U={class:"modal-footer"},z={class:"text-muted text-nowrap mr-3"},E=Object(o["createTextVNode"])(" 小計 "),G=Object(o["createTextVNode"])(" 元 "),H={key:0,class:"fas fa-spinner fa-spin"},K=Object(o["createTextVNode"])(" 加到購物車 ");function Q(e,t,c,Q,R,W){var X=Object(o["resolveComponent"])("Navbar"),Y=Object(o["resolveComponent"])("Alert");return Object(o["openBlock"])(),Object(o["createBlock"])("div",null,[Object(o["createVNode"])(X),Object(o["createVNode"])(Y),a,Object(o["createVNode"])("div",r,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(R.favorProducts,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:"col-md-4 mb-4",key:e.id},[Object(o["createVNode"])("div",d,[Object(o["createVNode"])("span",{class:"position-absolute","data-bs-toggle":"modal","data-bs-target":"#confirmModal",onClick:function(t){return W.getId(e.id)},style:{"font-size":"1.5em",color:"pink"}},[i],8,["onClick"]),Object(o["createVNode"])("div",{style:[{height:"150px","background-size":"cover","background-position":"center"},{backgroundImage:"url(".concat(e.imageUrl,")")}]},null,4),Object(o["createVNode"])("div",n,[Object(o["createVNode"])("span",l,Object(o["toDisplayString"])(e.category),1),Object(o["createVNode"])("h5",s,Object(o["toDisplayString"])(e.title),1),Object(o["createVNode"])("p",b,Object(o["toDisplayString"])(e.content),1),Object(o["createVNode"])("div",u,[e.price?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])("div",p,Object(o["toDisplayString"])(e.origin_price)+" 元",1)),e.price?(Object(o["openBlock"])(),Object(o["createBlock"])("del",j,"原價 "+Object(o["toDisplayString"])(e.origin_price)+" 元",1)):Object(o["createCommentVNode"])("",!0),e.price?(Object(o["openBlock"])(),Object(o["createBlock"])("div",O,"現在只要 "+Object(o["toDisplayString"])(e.price)+" 元",1)):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])("div",m,[Object(o["createVNode"])("button",{type:"button",class:"btn btn-outline-light btn-sm",onClick:function(t){return W.getProduct(e.id)}},[R.status.loadingItem===e.id?(Object(o["openBlock"])(),Object(o["createBlock"])("i",g)):Object(o["createCommentVNode"])("",!0),f],8,["onClick"]),Object(o["createVNode"])("button",{type:"button",class:"btn btn-outline-warning btn-sm ml-auto",onClick:function(t){return W.addToCart(e.id)}},[R.status.loadingItem===e.id?(Object(o["openBlock"])(),Object(o["createBlock"])("i",v)):Object(o["createCommentVNode"])("",!0),N],8,["onClick"])])])])})),128)),Object(o["createVNode"])("div",V,[Object(o["createVNode"])("div",k,[Object(o["createVNode"])("div",h,[y,x,Object(o["createVNode"])("div",B,[Object(o["createVNode"])("button",{type:"button",class:"btn btn-primary",onClick:t[1]||(t[1]=function(){return W.removeFavorite&&W.removeFavorite.apply(W,arguments)}),"data-bs-dismiss":"modal"},"確定"),C])])])]),Object(o["createVNode"])("div",I,[Object(o["createVNode"])("div",S,[Object(o["createVNode"])("div",w,[Object(o["createVNode"])("div",D,[Object(o["createVNode"])("h5",M,Object(o["toDisplayString"])(R.product.title),1),Object(o["createVNode"])("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:t[2]||(t[2]=function(){return e.closeModal&&e.closeModal.apply(e,arguments)})},[L])]),Object(o["createVNode"])("div",P,[Object(o["createVNode"])("img",{src:R.product.imageUrl,class:"img-fluid",alt:""},null,8,["src"]),Object(o["createVNode"])("blockquote",T,[Object(o["createVNode"])("p",F,Object(o["toDisplayString"])(R.product.content),1),Object(o["createVNode"])("footer",_,Object(o["toDisplayString"])(R.product.description),1)]),Object(o["createVNode"])("div",q,[R.product.price?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])("div",A,Object(o["toDisplayString"])(R.product.origin_price)+" 元",1)),R.product.price?(Object(o["openBlock"])(),Object(o["createBlock"])("del",J,"原價 "+Object(o["toDisplayString"])(R.product.origin_price)+" 元",1)):Object(o["createCommentVNode"])("",!0),R.product.price?(Object(o["openBlock"])(),Object(o["createBlock"])("div",$,"現在只要 "+Object(o["toDisplayString"])(R.product.price)+" 元",1)):Object(o["createCommentVNode"])("",!0)]),Object(o["withDirectives"])(Object(o["createVNode"])("select",{name:"",class:"form-control mt-3","onUpdate:modelValue":t[3]||(t[3]=function(e){return R.product.num=e})},[(Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(10,(function(e){return Object(o["createVNode"])("option",{value:e,key:e}," 報名 "+Object(o["toDisplayString"])(e)+" "+Object(o["toDisplayString"])(R.product.unit),9,["value"])})),64))],512),[[o["vModelSelect"],R.product.num]])]),Object(o["createVNode"])("div",U,[Object(o["createVNode"])("div",z,[E,Object(o["createVNode"])("strong",null,Object(o["toDisplayString"])(R.product.num*R.product.price),1),G]),Object(o["createVNode"])("button",{type:"button",class:"btn btn-primary",onClick:t[4]||(t[4]=function(e){return W.addToCart(R.product.id,R.product.num)})},[R.status.loadingItem===R.product.id?(Object(o["openBlock"])(),Object(o["createBlock"])("i",H)):Object(o["createCommentVNode"])("",!0),K])])])])])])])}c("99af"),c("c740"),c("a434");var R=c("d178"),W=c("56a6"),X=c("7b17"),Y={components:{Navbar:R["a"],Alert:W["a"]},data:function(){return{favorProducts:[],isLoading:!1,product:{},productModal:"",delId:"",status:{loadingItem:""}}},methods:{getProduct:function(e){var t=this,c="".concat("https://vue-course-api.hexschool.io","/api/").concat("didameath","/product/").concat(e);t.status.loadingItem=e,this.$http.get(c).then((function(e){t.product=e.data.product,console.log(e.data),t.status.loadingItem="",t.productModal=new X["a"](document.getElementById("productModal")),t.productModal.show()}))},addToCart:function(e){var t=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("didameath","/cart");o.status.loadingItem=e;var r={product_id:e,qty:c};this.$http.post(a,{data:r}).then((function(e){console.log(e.data),o.$store.commit("setMessage",[e.data.message,"success"]),o.status.loadingItem="",t.$store.dispatch("getCart"),o.productModal.hide()}))},getId:function(e){var t=this;t.getId=e},removeFavorite:function(){var e=this,t=e.favorProducts.findIndex((function(t){return t.id===e.delId}));e.favorProducts.splice(t,1),localStorage.setItem("favoriteList",JSON.stringify(e.favorProducts))}},created:function(){this.favorProducts=JSON.parse(localStorage.getItem("favoriteList"))||[]}};Y.render=Q;t["default"]=Y},c740:function(e,t,c){"use strict";var o=c("23e7"),a=c("b727").findIndex,r=c("44d2"),d="findIndex",i=!0;d in[]&&Array(1)[d]((function(){i=!1})),o({target:"Array",proto:!0,forced:i},{findIndex:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),r(d)}}]);
//# sourceMappingURL=chunk-7e0ddd46.009c4329.js.map