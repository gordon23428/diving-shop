(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d6b8ceb"],{"057f":function(e,t,o){var c=o("fc6a"),a=o("241c").f,r={}.toString,n="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],i=function(e){try{return a(e)}catch(t){return n.slice()}};e.exports.f=function(e){return n&&"[object Window]"==r.call(e)?i(e):a(c(e))}},1799:function(e,t,o){"use strict";var c=o("7a23"),a={"aria-label":"Page navigation example"},r={class:"pagination"},n=Object(c["createVNode"])("span",{"aria-hidden":"true"},"«",-1),i=Object(c["createVNode"])("a",{class:"page-link",href:"#","aria-label":"Next"},[Object(c["createVNode"])("span",{"aria-hidden":"true"},"»")],-1);function d(e,t,o,d,l,s){return Object(c["openBlock"])(),Object(c["createBlock"])("div",null,[Object(c["createVNode"])("nav",a,[Object(c["createVNode"])("ul",r,[Object(c["createVNode"])("li",{class:["page-item",{disable:!o.pagination.has_pre}]},[Object(c["createVNode"])("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:t[1]||(t[1]=Object(c["withModifiers"])((function(e){return s.emitGetItems(o.pagination.current_page-1)}),["prevent"]))},[n])],2),(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(o.pagination.total_pages,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])("li",{class:["page-item",{active:o.pagination.current_page===e}],key:e},[Object(c["createVNode"])("a",{class:"page-link",href:"#",onClick:Object(c["withModifiers"])((function(t){return s.emitGetItems(e)}),["prevent"])},Object(c["toDisplayString"])(e),9,["onClick"])],2)})),128)),Object(c["createVNode"])("li",{class:["page-item",{disable:!o.pagination.has_next}],onClick:t[2]||(t[2]=Object(c["withModifiers"])((function(e){return s.emitGetItems(o.pagination.current_page+1)}),["prevent"]))},[i],2)])])])}var l={props:["pagination"],methods:{emitGetItems:function(e){this.$emit("getPage",e)}}};l.render=d;t["a"]=l},"746f":function(e,t,o){var c=o("428f"),a=o("5135"),r=o("e538"),n=o("9bf2").f;e.exports=function(e){var t=c.Symbol||(c.Symbol={});a(t,e)||n(t,e,{value:r.f(e)})}},a4d3:function(e,t,o){"use strict";var c=o("23e7"),a=o("da84"),r=o("d066"),n=o("c430"),i=o("83ab"),d=o("4930"),l=o("fdbf"),s=o("d039"),u=o("5135"),b=o("e8b5"),p=o("861d"),f=o("825a"),m=o("7b0b"),h=o("fc6a"),O=o("c04e"),g=o("5c6c"),j=o("7c73"),v=o("df75"),N=o("241c"),V=o("057f"),y=o("7418"),w=o("06cf"),P=o("9bf2"),k=o("d1e7"),x=o("9112"),M=o("6eeb"),S=o("5692"),B=o("f772"),C=o("d012"),U=o("90e3"),D=o("b622"),_=o("e538"),T=o("746f"),I=o("d44e"),L=o("69f3"),F=o("b727").forEach,E=B("hidden"),$="Symbol",G="prototype",J=D("toPrimitive"),Q=L.set,W=L.getterFor($),q=Object[G],H=a.Symbol,z=r("JSON","stringify"),A=w.f,K=P.f,R=V.f,X=k.f,Y=S("symbols"),Z=S("op-symbols"),ee=S("string-to-symbol-registry"),te=S("symbol-to-string-registry"),oe=S("wks"),ce=a.QObject,ae=!ce||!ce[G]||!ce[G].findChild,re=i&&s((function(){return 7!=j(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(e,t,o){var c=A(q,t);c&&delete q[t],K(e,t,o),c&&e!==q&&K(q,t,c)}:K,ne=function(e,t){var o=Y[e]=j(H[G]);return Q(o,{type:$,tag:e,description:t}),i||(o.description=t),o},ie=l?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof H},de=function(e,t,o){e===q&&de(Z,t,o),f(e);var c=O(t,!0);return f(o),u(Y,c)?(o.enumerable?(u(e,E)&&e[E][c]&&(e[E][c]=!1),o=j(o,{enumerable:g(0,!1)})):(u(e,E)||K(e,E,g(1,{})),e[E][c]=!0),re(e,c,o)):K(e,c,o)},le=function(e,t){f(e);var o=h(t),c=v(o).concat(fe(o));return F(c,(function(t){i&&!ue.call(o,t)||de(e,t,o[t])})),e},se=function(e,t){return void 0===t?j(e):le(j(e),t)},ue=function(e){var t=O(e,!0),o=X.call(this,t);return!(this===q&&u(Y,t)&&!u(Z,t))&&(!(o||!u(this,t)||!u(Y,t)||u(this,E)&&this[E][t])||o)},be=function(e,t){var o=h(e),c=O(t,!0);if(o!==q||!u(Y,c)||u(Z,c)){var a=A(o,c);return!a||!u(Y,c)||u(o,E)&&o[E][c]||(a.enumerable=!0),a}},pe=function(e){var t=R(h(e)),o=[];return F(t,(function(e){u(Y,e)||u(C,e)||o.push(e)})),o},fe=function(e){var t=e===q,o=R(t?Z:h(e)),c=[];return F(o,(function(e){!u(Y,e)||t&&!u(q,e)||c.push(Y[e])})),c};if(d||(H=function(){if(this instanceof H)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=U(e),o=function(e){this===q&&o.call(Z,e),u(this,E)&&u(this[E],t)&&(this[E][t]=!1),re(this,t,g(1,e))};return i&&ae&&re(q,t,{configurable:!0,set:o}),ne(t,e)},M(H[G],"toString",(function(){return W(this).tag})),M(H,"withoutSetter",(function(e){return ne(U(e),e)})),k.f=ue,P.f=de,w.f=be,N.f=V.f=pe,y.f=fe,_.f=function(e){return ne(D(e),e)},i&&(K(H[G],"description",{configurable:!0,get:function(){return W(this).description}}),n||M(q,"propertyIsEnumerable",ue,{unsafe:!0}))),c({global:!0,wrap:!0,forced:!d,sham:!d},{Symbol:H}),F(v(oe),(function(e){T(e)})),c({target:$,stat:!0,forced:!d},{for:function(e){var t=String(e);if(u(ee,t))return ee[t];var o=H(t);return ee[t]=o,te[o]=t,o},keyFor:function(e){if(!ie(e))throw TypeError(e+" is not a symbol");if(u(te,e))return te[e]},useSetter:function(){ae=!0},useSimple:function(){ae=!1}}),c({target:"Object",stat:!0,forced:!d,sham:!i},{create:se,defineProperty:de,defineProperties:le,getOwnPropertyDescriptor:be}),c({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:pe,getOwnPropertySymbols:fe}),c({target:"Object",stat:!0,forced:s((function(){y.f(1)}))},{getOwnPropertySymbols:function(e){return y.f(m(e))}}),z){var me=!d||s((function(){var e=H();return"[null]"!=z([e])||"{}"!=z({a:e})||"{}"!=z(Object(e))}));c({target:"JSON",stat:!0,forced:me},{stringify:function(e,t,o){var c,a=[e],r=1;while(arguments.length>r)a.push(arguments[r++]);if(c=t,(p(t)||void 0!==e)&&!ie(e))return b(t)||(t=function(e,t){if("function"==typeof c&&(t=c.call(this,e,t)),!ie(t))return t}),a[1]=t,z.apply(null,a)}})}H[G][J]||x(H[G],J,H[G].valueOf),I(H,$),C[E]=!0},b727:function(e,t,o){var c=o("0366"),a=o("44ad"),r=o("7b0b"),n=o("50c4"),i=o("65f0"),d=[].push,l=function(e){var t=1==e,o=2==e,l=3==e,s=4==e,u=6==e,b=7==e,p=5==e||u;return function(f,m,h,O){for(var g,j,v=r(f),N=a(v),V=c(m,h,3),y=n(N.length),w=0,P=O||i,k=t?P(f,y):o||b?P(f,0):void 0;y>w;w++)if((p||w in N)&&(g=N[w],j=V(g,w,v),e))if(t)k[w]=j;else if(j)switch(e){case 3:return!0;case 5:return g;case 6:return w;case 2:d.call(k,g)}else switch(e){case 4:return!1;case 7:d.call(k,g)}return u?-1:l||s?s:k}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},e01a:function(e,t,o){"use strict";var c=o("23e7"),a=o("83ab"),r=o("da84"),n=o("5135"),i=o("861d"),d=o("9bf2").f,l=o("e893"),s=r.Symbol;if(a&&"function"==typeof s&&(!("description"in s.prototype)||void 0!==s().description)){var u={},b=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof b?new s(e):void 0===e?s():s(e);return""===e&&(u[t]=!0),t};l(b,s);var p=b.prototype=s.prototype;p.constructor=b;var f=p.toString,m="Symbol(test)"==String(s("test")),h=/^Symbol\((.*)\)[^)]+$/;d(p,"description",{configurable:!0,get:function(){var e=i(this)?this.valueOf():this,t=f.call(e);if(n(u,e))return"";var o=m?t.slice(7,-1):t.replace(h,"$1");return""===o?void 0:o}}),c({global:!0,forced:!0},{Symbol:b})}},e538:function(e,t,o){var c=o("b622");t.f=c},f388:function(e,t,o){"use strict";o.r(t);o("a4d3"),o("e01a");var c=o("7a23"),a={class:"text-right mt-4"},r={class:"table mt-4"},n=Object(c["createVNode"])("thead",null,[Object(c["createVNode"])("tr",null,[Object(c["createVNode"])("th",{width:"120"},"分類"),Object(c["createVNode"])("th",null,"產品名稱"),Object(c["createVNode"])("th",{width:"120"},"原價"),Object(c["createVNode"])("th",{width:"120"},"售價"),Object(c["createVNode"])("th",{width:"100"},"是否啟用"),Object(c["createVNode"])("th",{width:"80"},"編輯"),Object(c["createVNode"])("th",{width:"80"},"刪除")])],-1),i={class:"text-right"},d={class:"text-right"},l={key:0,class:"text-success"},s={key:1},u={class:"modal fade",id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},b={class:"modal-dialog modal-lg",role:"document"},p={class:"modal-content border-0"},f=Object(c["createVNode"])("div",{class:"modal-header bg-dark text-white"},[Object(c["createVNode"])("h5",{class:"modal-title",id:"exampleModalLabel"},[Object(c["createVNode"])("span",null,"新增產品")]),Object(c["createVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),m={class:"modal-body"},h={class:"row"},O={class:"col-sm-4"},g={class:"form-group"},j=Object(c["createVNode"])("label",{for:"image"},"輸入圖片網址",-1),v={class:"form-group"},N={for:"customFile"},V=Object(c["createTextVNode"])("或 上傳圖片 "),y={key:0,class:"fas fa-spinner fa-spin"},w={class:"col-sm-8"},P={class:"form-group"},k=Object(c["createVNode"])("label",{for:"title"},"標題",-1),x={class:"form-row"},M={class:"form-group col-md-6"},S=Object(c["createVNode"])("label",{for:"category"},"分類",-1),B={class:"form-group col-md-6"},C=Object(c["createVNode"])("label",{for:"price"},"單位",-1),U={class:"form-row"},D={class:"form-group col-md-6"},_=Object(c["createVNode"])("label",{for:"origin_price"},"原價",-1),T={class:"form-group col-md-6"},I=Object(c["createVNode"])("label",{for:"price"},"售價",-1),L=Object(c["createVNode"])("hr",null,null,-1),F={class:"form-group"},E=Object(c["createVNode"])("label",{for:"description"},"產品描述",-1),$={class:"form-group"},G=Object(c["createVNode"])("label",{for:"content"},"說明內容",-1),J={class:"form-group"},Q={class:"form-check"},W=Object(c["createVNode"])("label",{class:"form-check-label",for:"is_enabled"}," 是否啟用 ",-1),q={class:"modal-footer"},H=Object(c["createVNode"])("button",{type:"button",class:"btn btn-outline-secondary","data-dismiss":"modal"},"取消",-1),z={class:"modal fade",id:"delProductModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},A={class:"modal-dialog",role:"document"},K={class:"modal-content border-0"},R=Object(c["createVNode"])("div",{class:"modal-header bg-danger text-white"},[Object(c["createVNode"])("h5",{class:"modal-title",id:"exampleModalLabel"},[Object(c["createVNode"])("span",null,"刪除產品")]),Object(c["createVNode"])("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[Object(c["createVNode"])("span",{"aria-hidden":"true"},"×")])],-1),X={class:"modal-body"},Y=Object(c["createTextVNode"])(" 是否刪除 "),Z={class:"text-danger"},ee=Object(c["createTextVNode"])(" 商品(刪除後將無法恢復)。 "),te={class:"modal-footer"};function oe(e,t,o,oe,ce,ae){var re=Object(c["resolveComponent"])("loading"),ne=Object(c["resolveComponent"])("Pagination");return Object(c["openBlock"])(),Object(c["createBlock"])("div",null,[Object(c["createVNode"])(re,{active:ce.isLoading,"onUpdate:active":t[1]||(t[1]=function(e){return ce.isLoading=e})},null,8,["active"]),Object(c["createVNode"])("div",a,[Object(c["createVNode"])("button",{class:"btn btn-primary",onClick:t[2]||(t[2]=function(e){return ae.openModal(!0)})},"建立新產品")]),Object(c["createVNode"])("table",r,[n,Object(c["createVNode"])("tbody",null,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(ce.products,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])("tr",{key:e.id},[Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(e.category),1),Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(e.title),1),Object(c["createVNode"])("td",i,Object(c["toDisplayString"])(e.origin_price),1),Object(c["createVNode"])("td",d,Object(c["toDisplayString"])(e.price),1),Object(c["createVNode"])("td",null,[e.is_enabled?(Object(c["openBlock"])(),Object(c["createBlock"])("span",l,"啟用")):(Object(c["openBlock"])(),Object(c["createBlock"])("span",s,"未啟用"))]),Object(c["createVNode"])("td",null,[Object(c["createVNode"])("button",{class:"btn btn-outline-primary btn-sm",onClick:function(t){return ae.openModal(!1,e)}},"編輯",8,["onClick"])]),Object(c["createVNode"])("td",null,[Object(c["createVNode"])("button",{class:"btn btn-outline-danger btn-sm",onClick:function(t){return ae.deleteModal(!0,e)}},"刪除",8,["onClick"])])])})),128))])]),Object(c["createVNode"])("div",u,[Object(c["createVNode"])("div",b,[Object(c["createVNode"])("div",p,[f,Object(c["createVNode"])("div",m,[Object(c["createVNode"])("div",h,[Object(c["createVNode"])("div",O,[Object(c["createVNode"])("div",g,[j,Object(c["withDirectives"])(Object(c["createVNode"])("input",{type:"text",class:"form-control",id:"image","onUpdate:modelValue":t[3]||(t[3]=function(e){return ce.tempProduct.imageUrl=e}),placeholder:"請輸入圖片連結"},null,512),[[c["vModelText"],ce.tempProduct.imageUrl]])]),Object(c["createVNode"])("div",v,[Object(c["createVNode"])("label",N,[V,ce.status.fileUploading?(Object(c["openBlock"])(),Object(c["createBlock"])("i",y)):Object(c["createCommentVNode"])("",!0)]),Object(c["createVNode"])("input",{type:"file",id:"customFile",class:"form-control",ref:"files",onChange:t[4]||(t[4]=function(){return ae.uploadFile&&ae.uploadFile.apply(ae,arguments)})},null,544)]),Object(c["createVNode"])("img",{img:"https://images.unsplash.com/photo-1483985988355-763728e1935b?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=828346ed697837ce808cae68d3ddc3cf&auto=format&fit=crop&w=1350&q=80",class:"img-fluid",src:ce.tempProduct.imageUrl,alt:""},null,8,["src"])]),Object(c["createVNode"])("div",w,[Object(c["createVNode"])("div",P,[k,Object(c["withDirectives"])(Object(c["createVNode"])("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":t[5]||(t[5]=function(e){return ce.tempProduct.title=e}),placeholder:"請輸入標題"},null,512),[[c["vModelText"],ce.tempProduct.title]])]),Object(c["createVNode"])("div",x,[Object(c["createVNode"])("div",M,[S,Object(c["withDirectives"])(Object(c["createVNode"])("input",{type:"text",class:"form-control",id:"category","onUpdate:modelValue":t[6]||(t[6]=function(e){return ce.tempProduct.category=e}),placeholder:"請輸入分類"},null,512),[[c["vModelText"],ce.tempProduct.category]])]),Object(c["createVNode"])("div",B,[C,Object(c["withDirectives"])(Object(c["createVNode"])("input",{type:"unit",class:"form-control",id:"unit","onUpdate:modelValue":t[7]||(t[7]=function(e){return ce.tempProduct.unit=e}),placeholder:"請輸入單位"},null,512),[[c["vModelText"],ce.tempProduct.unit]])])]),Object(c["createVNode"])("div",U,[Object(c["createVNode"])("div",D,[_,Object(c["withDirectives"])(Object(c["createVNode"])("input",{type:"number",class:"form-control",id:"origin_price","onUpdate:modelValue":t[8]||(t[8]=function(e){return ce.tempProduct.origin_price=e}),placeholder:"請輸入原價"},null,512),[[c["vModelText"],ce.tempProduct.origin_price]])]),Object(c["createVNode"])("div",T,[I,Object(c["withDirectives"])(Object(c["createVNode"])("input",{type:"number",class:"form-control",id:"price","onUpdate:modelValue":t[9]||(t[9]=function(e){return ce.tempProduct.price=e}),placeholder:"請輸入售價"},null,512),[[c["vModelText"],ce.tempProduct.price]])])]),L,Object(c["createVNode"])("div",F,[E,Object(c["withDirectives"])(Object(c["createVNode"])("textarea",{type:"text",class:"form-control",id:"description","onUpdate:modelValue":t[10]||(t[10]=function(e){return ce.tempProduct.description=e}),placeholder:"請輸入產品描述"},null,512),[[c["vModelText"],ce.tempProduct.description]])]),Object(c["createVNode"])("div",$,[G,Object(c["withDirectives"])(Object(c["createVNode"])("textarea",{type:"text",class:"form-control",id:"content","onUpdate:modelValue":t[11]||(t[11]=function(e){return ce.tempProduct.content=e}),placeholder:"請輸入產品說明內容"},null,512),[[c["vModelText"],ce.tempProduct.content]])]),Object(c["createVNode"])("div",J,[Object(c["createVNode"])("div",Q,[Object(c["withDirectives"])(Object(c["createVNode"])("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[12]||(t[12]=function(e){return ce.tempProduct.is_enabled=e}),"true-value":1,"false-value":0,id:"is_enabled"},null,512),[[c["vModelCheckbox"],ce.tempProduct.is_enabled]]),W])])])])]),Object(c["createVNode"])("div",q,[H,Object(c["createVNode"])("button",{type:"button",class:"btn btn-primary",onClick:t[13]||(t[13]=function(){return ae.updateProduct&&ae.updateProduct.apply(ae,arguments)})},"確認")])])])]),Object(c["createVNode"])("div",z,[Object(c["createVNode"])("div",A,[Object(c["createVNode"])("div",K,[R,Object(c["createVNode"])("div",X,[Y,Object(c["createVNode"])("strong",Z,Object(c["toDisplayString"])(ce.tempProduct.title),1),ee]),Object(c["createVNode"])("div",te,[Object(c["createVNode"])("button",{type:"button",class:"btn btn-outline-secondary","data-dismiss":"modal",onClick:t[14]||(t[14]=function(e){return ae.deleteModal(!1)})},"取消"),Object(c["createVNode"])("button",{type:"button",class:"btn btn-danger",onClick:t[15]||(t[15]=function(e){return ae.deleteProduct()})},"確認刪除")])])])]),Object(c["createVNode"])(ne,{pagination:ce.pagination,onGetPage:ae.getProducts},null,8,["pagination","onGetPage"])])}o("99af");var ce=o("7b17"),ae=o("1799"),re={components:{Pagination:ae["a"]},data:function(){return{products:[],isLoading:!1,productModal:"",delModal:"",tempProduct:{},pagination:{},delId:"",isNew:!1,status:{fileUploading:!1}}},methods:{getProducts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t="".concat("https://vue-course-api.hexschool.io","/api/").concat("didameath","/products?page=").concat(e),o=this;o.isLoading=!0,this.$http.get(t).then((function(e){o.products=e.data.products,o.isLoading=!1,o.pagination=e.data.pagination}))},openModal:function(e,t){this.productModal.show(),e?(this.tempProduct={},this.isNew=!0):(this.tempProduct=Object.assign({},t),this.isNew=!1)},updateProduct:function(){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("didameath","/admin/product"),t="post",o=this;o.isNew||(e="".concat("https://vue-course-api.hexschool.io","/api/").concat("didameath","/admin/product/").concat(o.tempProduct.id),t="put"),this.$http[t](e,{data:o.tempProduct}).then((function(e){console.log(e.data),e.data.success?(o.productModal.hide(),o.getProducts()):(o.productModal.hide(),o.getProducts(),console.log("新增失敗"))}))},deleteModal:function(e,t){e?(this.delModal.show(),this.delId=t.id):this.delModal.hide()},deleteProduct:function(){var e=this,t=this,o="".concat("https://vue-course-api.hexschool.io","/api/").concat("didameath","/admin/product/").concat(t.delId);this.$http.delete(o).then((function(o){console.log(o.data),e.delModal.hide(),t.getProducts()}))},uploadFile:function(){console.log(this);var e=this.$refs.files.files[0],t=this,o=new FormData;o.append("file-to-upload",e);var c="".concat("https://vue-course-api.hexschool.io","/api/").concat("didameath","/admin/upload");t.status.fileUploading=!0,this.$http.post(c,o,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e.data),e.data.success?(t.status.fileUploading=!1,t.tempProduct.imageUrl=e.data.imageUrl):(console.log("error"),t.status.fileUploading=!1)}))}},created:function(){this.getProducts()},mounted:function(){this.delModal=new ce["a"](document.getElementById("delProductModal")),this.productModal=new ce["a"](document.getElementById("productModal"))}};re.render=oe;t["default"]=re}}]);
//# sourceMappingURL=chunk-7d6b8ceb.520c20ab.js.map